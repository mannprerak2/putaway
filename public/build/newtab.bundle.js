var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,o,r){return t[1]&&r?n(o.ctx.slice(),t[1](r(e))):o.ctx}const u="undefined"!=typeof window;let d=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const p=new Set;function m(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(m)}function g(t){let e;return 0===p.size&&f(m),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function h(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function k(){return x(" ")}function y(){return x("")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function C(t){return function(e){return e.preventDefault(),t.call(this,e)}}function D(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function O(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){(null!=e||t.value)&&(t.value=e)}function I(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let S,N,E=0,_={};function z(t,e,n,o,r,i,c,l=0){const s=16.666/o;let a="{\n";for(let t=0;t<=1;t+=s){const o=e+(n-e)*i(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`;if(!_[d]){if(!S){const t=b("style");document.head.appendChild(t),S=t.sheet}_[d]=!0,S.insertRule(`@keyframes ${d} ${u}`,S.cssRules.length)}const f=t.style.animation||"";return t.style.animation=`${f?`${f}, `:""}${d} ${o}ms linear ${r}ms 1 both`,E+=1,d}function B(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--E&&f(()=>{if(E)return;let t=S.cssRules.length;for(;t--;)S.deleteRule(t);_={}})}function L(t){N=t}function P(){if(!N)throw new Error("Function called outside component initialization");return N}function M(t){P().$$.on_mount.push(t)}function W(t){P().$$.on_destroy.push(t)}function A(t,e){P().$$.context.set(t,e)}function q(t){return P().$$.context.get(t)}const U=[],J=[],F=[],H=[],K=Promise.resolve();let R=!1;function G(t){F.push(t)}const Z=new Set;function Y(){do{for(;U.length;){const t=U.shift();L(t),Q(t.$$)}for(;J.length;)J.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];Z.has(e)||(Z.add(e),e())}F.length=0}while(U.length);for(;H.length;)H.pop()();R=!1,Z.clear()}function Q(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}let V;function X(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function tt(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function ot(){nt={r:0,c:[],p:nt}}function rt(){nt.r||i(nt.c),nt=nt.p}function it(t,e){t&&t.i&&(et.delete(t),t.i(e))}function ct(t,e,n,o){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push(()=>{et.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const lt={duration:0};function st(n,o,r){let i,l,s=o(n,r),a=!1,u=0;function f(){i&&B(n,i)}function p(){const{delay:o=0,duration:r=300,easing:c=e,tick:p=t,css:m}=s||lt;m&&(i=z(n,0,1,r,o,c,m,u++)),p(0,1);const h=d()+o,v=h+r;l&&l.abort(),a=!0,G(()=>tt(n,!0,"start")),l=g(t=>{if(a){if(t>=v)return p(1,0),tt(n,!0,"end"),f(),a=!1;if(t>=h){const e=c((t-h)/r);p(e,1-e)}}return a})}let m=!1;return{start(){m||(B(n),c(s)?(s=s(),X().then(p)):p())},invalidate(){m=!1},end(){a&&(f(),a=!1)}}}function at(n,o,r){let l,s=o(n,r),a=!0;const u=nt;function f(){const{delay:o=0,duration:r=300,easing:c=e,tick:f=t,css:p}=s||lt;p&&(l=z(n,1,0,r,o,c,p));const m=d()+o,h=m+r;G(()=>tt(n,!1,"start")),g(t=>{if(a){if(t>=h)return f(0,1),tt(n,!1,"end"),--u.r||i(u.c),!1;if(t>=m){const e=c((t-m)/r);f(1-e,e)}}return a})}return u.r+=1,c(s)?X().then(()=>{s=s(),f()}):f(),{end(t){t&&s.tick&&s.tick(1,0),a&&(l&&B(n,l),a=!1)}}}function ut(n,o,r,l){let s=o(n,r),a=l?0:1,u=null,f=null,p=null;function m(){p&&B(n,p)}function h(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(o){const{delay:r=0,duration:c=300,easing:l=e,tick:v=t,css:$}=s||lt,b={start:d()+r,b:o};o||(b.group=nt,nt.r+=1),u?f=b:($&&(m(),p=z(n,a,o,c,r,l,$)),o&&v(0,1),u=h(b,c),G(()=>tt(n,o,"start")),g(t=>{if(f&&t>f.start&&(u=h(f,c),f=null,tt(n,u.b,"start"),$&&(m(),p=z(n,a,u.b,u.duration,0,l,s.css))),u)if(t>=u.end)v(a=u.b,1-a),tt(n,u.b,"end"),f||(u.b?m():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*l(e/u.duration),v(a,1-a)}return!(!u&&!f)}))}return{run(t){c(s)?X().then(()=>{s=s(),v(t)}):v(t)},end(){m(),u=f=null}}}function dt(t,e){ct(t,1,1,()=>{e.delete(t.key)})}function ft(t,e,n,o,r,i,c,l,s,a,u,d){let f=t.length,p=i.length,m=f;const g={};for(;m--;)g[t[m].key]=m;const h=[],v=new Map,$=new Map;for(m=p;m--;){const t=d(r,i,m),l=n(t);let s=c.get(l);s?o&&s.p(t,e):(s=a(l,t),s.c()),v.set(l,h[m]=s),l in g&&$.set(l,Math.abs(m-g[l]))}const b=new Set,x=new Set;function k(t){it(t,1),t.m(l,u),c.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=h[p-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,p--):v.has(r)?!c.has(o)||b.has(o)?k(e):x.has(r)?f--:$.get(o)>$.get(r)?(x.add(o),k(e)):(b.add(r),f--):(s(n,c),f--)}for(;f--;){const e=t[f];v.has(e.key)||s(e,c)}for(;p;)k(h[p-1]);return h}function pt(t){t&&t.c()}function mt(t,e,n){const{fragment:r,on_mount:l,on_destroy:s,after_update:a}=t.$$;r&&r.m(e,n),G(()=>{const e=l.map(o).filter(c);s?s.push(...e):i(e),t.$$.on_mount=[]}),a.forEach(G)}function gt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(U.push(t),R||(R=!0,K.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(e,n,o,c,l,s,a=[-1]){const u=N;L(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:a};let p=!1;f.ctx=o?o(e,d,(t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),p&&ht(e,t)),n}):[],f.update(),p=!0,i(f.before_update),f.fragment=!!c&&c(f.ctx),n.target&&(n.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):f.fragment&&f.fragment.c(),n.intro&&it(e.$$.fragment),mt(e,n.target,n.anchor),Y()),L(u)}class $t{$destroy(){gt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const bt=[];function xt(e,n=t){let o;const r=[];function i(t){if(l(e,t)&&(e=t,o)){const t=!bt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),bt.push(n,e)}if(t){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(c,l=t){const s=[c,l];return r.push(s),1===r.length&&(o=n(i)||t),c(e),()=>{const t=r.indexOf(s);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const kt=xt("");function yt(e){let n,o;return{c(){n=b("div"),n.textContent="â˜€",O(n,"class","pointer"),I(n,"font-size","2em")},m(t,r){v(t,n,r),o=w(n,"click",e[1])},p:t,d(t){t&&$(n),o()}}}function wt(e){let n,o;return{c(){n=b("div"),n.textContent="â˜½",O(n,"class","pointer"),I(n,"font-size","2em")},m(t,r){v(t,n,r),o=w(n,"click",e[1])},p:t,d(t){t&&$(n),o()}}}function Ct(e){let n,o,r,i,c,l,s;function a(t,e){return t[0]?wt:yt}let u=a(e),d=u(e);return{c(){n=b("main"),o=b("div"),r=b("input"),i=k(),c=b("div"),l=k(),d.c(),O(r,"type","text"),O(r,"placeholder","ðŸ” Search"),O(r,"class","svelte-ouj5ax"),I(c,"flex-grow","1"),O(o,"class","flex-row-container")},m(t,a){v(t,n,a),h(n,o),h(o,r),T(r,e[2]),h(o,i),h(o,c),h(o,l),d.m(o,null),s=w(r,"input",e[3])},p(t,[e]){4&e&&r.value!==t[2]&&T(r,t[2]),u===(u=a(t))&&d?d.p(t,e):(d.d(1),d=u(t),d&&(d.c(),d.m(o,null)))},i:t,o:t,d(t){t&&$(n),d.d(),s()}}}function Dt(t,e,n){let o;s(t,kt,t=>n(2,o=t));let{darkTheme:r}=e,{toggleTheme:i}=e;return t.$set=t=>{"darkTheme"in t&&n(0,r=t.darkTheme),"toggleTheme"in t&&n(1,i=t.toggleTheme)},[r,i,o,function(){o=this.value,kt.set(o)}]}class Ot extends $t{constructor(t){super(),vt(this,t,Dt,Ct,l,{darkTheme:0,toggleTheme:1})}}function jt(t){const e=t-1;return e*e*e+1}function Tt(t,{delay:n=0,duration:o=400,easing:r=e}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>`opacity: ${t*i}`}}function It(t,{delay:e=0,duration:n=400,easing:o=jt,x:r=0,y:i=0,opacity:c=0}){const l=getComputedStyle(t),s=+l.opacity,a="none"===l.transform?"":l.transform,u=s*(1-c);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*i}px);\n\t\t\topacity: ${s-u*e}`}}function St(e){let n,o,r,c,l,s,a,u,d,f,p,m;return{c(){n=b("main"),o=b("h1"),o.textContent="Collection Name -",r=k(),c=b("input"),s=k(),a=b("div"),u=b("div"),d=x(e[1]),f=k(),p=b("button"),p.textContent="Create Collection",O(c,"type","text"),O(c,"onchange",l=e[4](e[0])),c.autofocus=!0,O(c,"class","svelte-1dkdkti"),I(u,"padding","10px"),I(u,"color","red"),O(p,"class","pointer svelte-1dkdkti"),O(a,"class","modal-bottom-bar svelte-1dkdkti")},m(t,i){v(t,n,i),h(n,o),h(n,r),h(n,c),T(c,e[0]),h(n,s),h(n,a),h(a,u),h(u,d),h(a,f),h(a,p),c.focus(),m=[w(window,"keyup",e[3]),w(c,"input",e[7]),w(p,"click",e[2])]},p(t,[e]){1&e&&l!==(l=t[4](t[0]))&&O(c,"onchange",l),1&e&&c.value!==t[0]&&T(c,t[0]),2&e&&j(d,t[1])},i:t,o:t,d(t){t&&$(n),i(m)}}}function Nt(t,e,n){let o="",r="";const{close:i}=q("simple-modal");function c(){chrome.storage.local.get("pid",(function(t){chrome.bookmarks.create({parentId:t.pid,title:o,index:0},(function(t){i(t)}))}))}var l=()=>{n(0,o=o.trim()),o.length>0?(n(1,r=""),c()):n(1,r="Enter a collection Name")};return[o,r,l,function(t){13==t.keyCode&&l()},function(t){n(0,o=t.replace(/\s+/g," "))},i,c,function(){o=this.value,n(0,o)}]}class Et extends $t{constructor(t){super(),vt(this,t,Nt,St,l,{})}}function _t(e){let n,o,r,i,c,l,s,a,u;return{c(){n=b("main"),o=b("div"),r=x("Are you sure you want to delete "),i=x(e[0]),c=x(" ?"),l=k(),s=b("div"),a=b("button"),a.textContent="Delete",I(o,"padding","10px"),I(o,"font-size","2em"),O(a,"class","pointer svelte-1dkdkti"),O(s,"class","modal-bottom-bar svelte-1dkdkti")},m(t,d){v(t,n,d),h(n,o),h(o,r),h(o,i),h(o,c),h(n,l),h(n,s),h(s,a),u=w(a,"click",e[1])},p(t,[e]){1&e&&j(i,t[0])},i:t,o:t,d(t){t&&$(n),u()}}}function zt(t,e,n){let{collectionName:o}=e;const{close:r}=q("simple-modal");return t.$set=t=>{"collectionName"in t&&n(0,o=t.collectionName)},[o,r]}class Bt extends $t{constructor(t){super(),vt(this,t,zt,_t,l,{collectionName:0})}}function Lt(t){let e;return{c(){e=b("div"),O(e,"class","vl"),I(e,"border-color","var(--bg)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Pt(t){let e;return{c(){e=b("div"),O(e,"class","vl"),I(e,"border-color","var(--drop-indicator)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Mt(t){let e,n,o,r,c,l,s,a,u,d,f,p,m,g,y,T=t[1].title.split(":::::")[0]+"";function S(t,e){return t[4]?Pt:Lt}let N=S(t),E=N(t);return{c(){e=b("div"),E.c(),n=k(),o=b("div"),r=b("button"),c=k(),l=b("div"),s=b("img"),u=k(),d=b("div"),f=x(T),O(r,"class","close-icon pointer svelte-nx0w67"),O(s,"alt"," "),s.src!==(a=t[1].title.split(":::::")[1])&&O(s,"src",a),O(s,"height","20px"),I(s,"margin-right","10px"),O(d,"class","text-concat svelte-nx0w67"),O(d,"title",p=t[1].title.split(":::::")[0]),O(l,"class","flex-row-container"),O(o,"class","item svelte-nx0w67"),O(o,"draggable","true"),O(e,"class","flex-row-container"),I(e,"height","100%")},m(i,a){v(i,e,a),E.m(e,null),h(e,n),h(e,o),h(o,r),h(o,c),h(o,l),h(l,s),h(l,u),h(l,d),h(d,f),g=!0,y=[w(r,"click",D(C(t[10]))),w(o,"dragover",C(t[5])),w(o,"dragleave",t[6]),w(o,"dragstart",t[7]),w(o,"drop",t[8]),w(o,"click",C(t[11]))]},p(t,[o]){N!==(N=S(t))&&(E.d(1),E=N(t),E&&(E.c(),E.m(e,n))),(!g||2&o&&s.src!==(a=t[1].title.split(":::::")[1]))&&O(s,"src",a),(!g||2&o)&&T!==(T=t[1].title.split(":::::")[0]+"")&&j(f,T),(!g||2&o&&p!==(p=t[1].title.split(":::::")[0]))&&O(d,"title",p)},i(t){g||(m&&m.end(1),g=!0)},o(t){m=at(o,Tt,{}),g=!1},d(t){t&&$(e),E.d(),t&&m&&m.end(),i(y)}}}function Wt(t,e,n){let{index:o}=e,{item:r}=e,{onItemDelete:i}=e,{onClickItem:c}=e,{onDrop:l}=e,s=!1;return t.$set=t=>{"index"in t&&n(0,o=t.index),"item"in t&&n(1,r=t.item),"onItemDelete"in t&&n(2,i=t.onItemDelete),"onClickItem"in t&&n(3,c=t.onClickItem),"onDrop"in t&&n(9,l=t.onDrop)},[o,r,i,c,s,t=>{n(4,s=!0)},t=>{n(4,s=!1)},t=>{t.dataTransfer.setData("text","i"+o.toString()),t.dataTransfer.setData("object",JSON.stringify(r))},t=>{t.preventDefault(),n(4,s=!1),l(t,o)},l,()=>i(r,o),t=>c(r,t)]}class At extends $t{constructor(t){super(),vt(this,t,Wt,Mt,l,{index:0,item:1,onItemDelete:2,onClickItem:3,onDrop:9})}}function qt(t){let e;return{c(){e=b("div"),O(e,"class","vl"),I(e,"border-color","var(--bg)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Ut(t){let e;return{c(){e=b("div"),O(e,"class","vl"),I(e,"border-color","var(--drop-indicator)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Jt(e){let n,o,r,c;function l(t,e){return t[0]?Ut:qt}let s=l(e),a=s(e);return{c(){n=b("div"),a.c(),o=k(),r=b("div"),I(r,"width","200px"),I(r,"height","100%"),I(r,"display","inline-block"),O(n,"class","flex-row-container"),I(n,"height","100%")},m(t,i){v(t,n,i),a.m(n,null),h(n,o),h(n,r),c=[w(r,"dragover",C(e[1])),w(r,"dragleave",e[2]),w(r,"drop",e[3])]},p(t,[e]){s!==(s=l(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(n,o)))},i:t,o:t,d(t){t&&$(n),a.d(),i(c)}}}function Ft(t,e,n){let{index:o}=e,{onDrop:r}=e,i=!1;return t.$set=t=>{"index"in t&&n(4,o=t.index),"onDrop"in t&&n(5,r=t.onDrop)},[i,t=>{n(0,i=!0)},t=>{n(0,i=!1)},t=>{t.preventDefault(),n(0,i=!1),r(t,o)},o,r]}class Ht extends $t{constructor(t){super(),vt(this,t,Ft,Jt,l,{index:4,onDrop:5})}}function Kt(e){let n,o;return{c(){n=b("div"),n.innerHTML="<h3>Drag &#39;n&#39; Drop tabs to add to &#39;em this collection</h3>",O(n,"class","no-items-indicator svelte-wl440h")},m(t,r){v(t,n,r),o=[w(n,"dragover",C(e[1])),w(n,"dragleave",e[2]),w(n,"drop",e[3])]},p:t,d(t){t&&$(n),i(o)}}}function Rt(e){let n,o;return{c(){n=b("div"),n.innerHTML="<h1>Drop to Add</h1>",O(n,"class","no-items-indicator svelte-wl440h"),I(n,"border","1px dashed gray")},m(t,r){v(t,n,r),o=[w(n,"dragover",C(e[1])),w(n,"dragleave",e[2]),w(n,"drop",e[3])]},p:t,d(t){t&&$(n),i(o)}}}function Gt(e){let n;function o(t,e){return t[0]?Rt:Kt}let r=o(e),i=r(e);return{c(){i.c(),n=y()},m(t,e){i.m(t,e),v(t,n,e)},p(t,[e]){r===(r=o(t))&&i?i.p(t,e):(i.d(1),i=r(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&$(n)}}}function Zt(t,e,n){let{index:o}=e,{onDrop:r}=e,i=!1;return t.$set=t=>{"index"in t&&n(4,o=t.index),"onDrop"in t&&n(5,r=t.onDrop)},[i,t=>{n(0,i=!0)},t=>{n(0,i=!1)},t=>{t.preventDefault(),n(0,i=!1),r(t,o)},o,r]}class Yt extends $t{constructor(t){super(),vt(this,t,Zt,Gt,l,{index:4,onDrop:5})}}const Qt=xt({source:"null",target:"null"});function Vt(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Xt(e){let n,o;return{c(){n=b("div"),n.textContent="â‹®",O(n,"class","dropbtn"),I(n,"font-size","0.8em")},m(t,r){v(t,n,r),o=w(n,"click",e[3])},p:t,d(t){t&&$(n),o()}}}function te(t){let e,n,o,r,i=t[0],c=[];for(let e=0;e<i.length;e+=1)c[e]=ee(Vt(t,i,e));return{c(){e=b("div"),e.textContent="â–²",n=k(),o=b("div");for(let t=0;t<c.length;t+=1)c[t].c();O(e,"class","dropbtn"),I(e,"font-size","0.8em"),O(o,"class","dropdown-content svelte-1faczvv")},m(i,l){v(i,e,l),v(i,n,l),v(i,o,l);for(let t=0;t<c.length;t+=1)c[t].m(o,null);r=w(e,"click",t[3])},p(t,e){if(7&e){let n;for(i=t[0],n=0;n<i.length;n+=1){const r=Vt(t,i,n);c[n]?c[n].p(r,e):(c[n]=ee(r),c[n].c(),c[n].m(o,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=i.length}},d(t){t&&$(e),t&&$(n),t&&$(o),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t),r()}}}function ee(t){let e,n,o,r=t[6]+"";function i(...e){return t[5](t[6],t[8],...e)}return{c(){e=b("div"),n=x(r),O(e,"class","item svelte-1faczvv")},m(t,r){v(t,e,r),h(e,n),o=w(e,"click",i)},p(e,o){t=e,1&o&&r!==(r=t[6]+"")&&j(n,r)},d(t){t&&$(e),o()}}}function ne(e){let n;function o(t,e){return t[2]?te:Xt}let r=o(e),i=r(e);return{c(){n=b("div"),i.c(),O(n,"class","dropdown pointer svelte-1faczvv")},m(t,e){v(t,n,e),i.m(n,null)},p(t,[e]){r===(r=o(t))&&i?i.p(t,e):(i.d(1),i=r(t),i&&(i.c(),i.m(n,null)))},i:t,o:t,d(t){t&&$(n),i.d()}}}function oe(t,e,n){let{items:o}=e,{onClickItem:r}=e,i=!1;return t.$set=t=>{"items"in t&&n(0,o=t.items),"onClickItem"in t&&n(1,r=t.onClickItem)},[o,r,i,t=>{n(2,i=!i)},t=>{n(2,i=!1)},(t,e)=>{n(2,i=!1),r(t,e)}]}class re extends $t{constructor(t){super(),vt(this,t,oe,ne,l,{items:0,onClickItem:1})}}function ie(e){let n,o,r,c,l,s,a,u,d,f,p,m;return{c(){n=b("main"),o=b("h1"),o.textContent="Edit Collection Name -",r=k(),c=b("input"),s=k(),a=b("div"),u=b("div"),d=x(e[1]),f=k(),p=b("button"),p.textContent="Save",O(c,"type","text"),O(c,"onchange",l=e[4](e[0])),c.autofocus=!0,O(c,"class","svelte-1dkdkti"),I(u,"padding","10px"),I(u,"color","red"),O(p,"class","pointer svelte-1dkdkti"),O(a,"class","modal-bottom-bar svelte-1dkdkti")},m(t,i){v(t,n,i),h(n,o),h(n,r),h(n,c),T(c,e[0]),h(n,s),h(n,a),h(a,u),h(u,d),h(a,f),h(a,p),c.focus(),m=[w(window,"keyup",e[3]),w(c,"input",e[8]),w(p,"click",e[2])]},p(t,[e]){1&e&&l!==(l=t[4](t[0]))&&O(c,"onchange",l),1&e&&c.value!==t[0]&&T(c,t[0]),2&e&&j(d,t[1])},i:t,o:t,d(t){t&&$(n),i(m)}}}function ce(t,e,n){let{collection:o}=e,r=o.title,i="";const{close:c}=q("simple-modal");function l(){chrome.bookmarks.update(o.id,{title:r},(function(t){c(t.title)}))}var s=()=>{n(0,r=r.trim()),r.length>0?(n(1,i=""),l()):n(1,i="Collection name cannot be empty")};return t.$set=t=>{"collection"in t&&n(5,o=t.collection)},[r,i,s,function(t){13==t.keyCode&&s()},function(t){n(0,r=t.replace(/\s+/g," "))},o,c,l,function(){r=this.value,n(0,r)}]}class le extends $t{constructor(t){super(),vt(this,t,ce,ie,l,{collection:5})}}function se(t,e,n){const o=t.slice();return o[22]=e[n],o[2]=n,o}function ae(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--bg)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function ue(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--drop-indicator)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function de(t){let e,n,o,r,i,c,l=t[3].length+"";return{c(){e=b("div"),n=x("Open "),o=x(l),r=x(" Tabs"),i=x("\n            Â "),O(e,"id","open-all-tabs"),O(e,"class","rounded-button pointer")},m(l,s){v(l,e,s),h(e,n),h(e,o),h(e,r),v(l,i,s),c=w(e,"click",t[12])},p(t,e){8&e&&l!==(l=t[3].length+"")&&j(o,l)},d(t){t&&$(e),t&&$(i),c()}}}function fe(t){let e,n,o=[],r=new Map,i=t[3];const c=t=>t[22].id;for(let e=0;e<i.length;e+=1){let n=se(t,i,e),l=c(n);r.set(l,o[e]=ge(l,n))}const l=new Ht({props:{index:t[3].length,onDrop:t[13]}});return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=k(),pt(l.$$.fragment)},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);v(t,e,r),mt(l,t,r),n=!0},p(t,n){const i=t[3];ot(),o=ft(o,n,c,1,t,i,r,e.parentNode,dt,ge,e,se),rt();const s={};8&n&&(s.index=t[3].length),l.$set(s)},i(t){if(!n){for(let t=0;t<i.length;t+=1)it(o[t]);it(l.$$.fragment,t),n=!0}},o(t){for(let t=0;t<o.length;t+=1)ct(o[t]);ct(l.$$.fragment,t),n=!1},d(t){for(let e=0;e<o.length;e+=1)o[e].d(t);t&&$(e),gt(l,t)}}}function pe(t){let e;const n=new Yt({props:{index:t[3].length,onDrop:t[13]}});return{c(){pt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.index=t[3].length),n.$set(o)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){ct(n.$$.fragment,t),e=!1},d(t){gt(n,t)}}}function me(t){let e;const n=new At({props:{index:t[2],item:t[22],onItemDelete:t[10],onClickItem:t[11],onDrop:t[13]}});return{c(){pt(n.$$.fragment)},m(t,o){mt(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.index=t[2]),8&e&&(o.item=t[22]),n.$set(o)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){ct(n.$$.fragment,t),e=!1},d(t){gt(n,t)}}}function ge(t,e){let n,o,r,i=e[22].title.toLowerCase().includes(e[5].toLowerCase())||e[22].url.toLowerCase().includes(e[5].toLowerCase()),c=i&&me(e);return{key:t,first:null,c(){n=y(),c&&c.c(),o=y(),this.first=n},m(t,e){v(t,n,e),c&&c.m(t,e),v(t,o,e),r=!0},p(t,e){40&e&&(i=t[22].title.toLowerCase().includes(t[5].toLowerCase())||t[22].url.toLowerCase().includes(t[5].toLowerCase())),i?c?(c.p(t,e),it(c,1)):(c=me(t),c.c(),it(c,1),c.m(o.parentNode,o)):c&&(ot(),ct(c,1,1,()=>{c=null}),rt())},i(t){r||(it(c),r=!0)},o(t){ct(c),r=!1},d(t){t&&$(n),c&&c.d(t),t&&$(o)}}}function he(t){let e,n,o,r,c,l,s,a,u,d,f,p,m,g,y,D,T,S,N,E,_=t[0].title+"";function z(t,e){return t[4]?ue:ae}let B=z(t),L=B(t),P=t[3].length>0&&de(t);const M=new re({props:{items:t[14],onClickItem:t[15]}}),W=[pe,fe],A=[];function q(t,e){return 0==t[3].length?0:1}return y=q(t),D=A[y]=W[y](t),{c(){e=b("div"),L.c(),n=k(),o=b("div"),r=b("div"),c=x(_),l=k(),s=b("div"),a=k(),P&&P.c(),u=k(),d=b("div"),d.textContent="ðŸ—‘ï¸",f=x("\n            Â \n            "),pt(M.$$.fragment),m=k(),g=b("div"),D.c(),I(s,"flex-grow","1"),O(d,"class","pointer"),I(d,"font-size","0.8em"),O(o,"class","tile-top-bar svelte-1kw2cvg"),O(o,"draggable","true"),O(g,"class","item-area svelte-1kw2cvg"),O(e,"class","collection svelte-1kw2cvg")},m(i,p){v(i,e,p),L.m(e,null),h(e,n),h(e,o),h(o,r),h(r,c),h(o,l),h(o,s),h(o,a),P&&P.m(o,null),h(o,u),h(o,d),h(o,f),mt(M,o,null),h(e,m),h(e,g),A[y].m(g,null),N=!0,E=[w(d,"click",t[21]),w(o,"dragover",C(t[6])),w(o,"dragleave",t[7]),w(o,"dragstart",t[8]),w(o,"drop",t[9]),w(e,"dragover",C(t[20]))]},p(t,[r]){B!==(B=z(t))&&(L.d(1),L=B(t),L&&(L.c(),L.m(e,n))),(!N||1&r)&&_!==(_=t[0].title+"")&&j(c,_),t[3].length>0?P?P.p(t,r):(P=de(t),P.c(),P.m(o,u)):P&&(P.d(1),P=null);let i=y;y=q(t),y===i?A[y].p(t,r):(ot(),ct(A[i],1,1,()=>{A[i]=null}),rt(),D=A[y],D||(D=A[y]=W[y](t),D.c()),it(D,1),D.m(g,null))},i(t){N||(it(M.$$.fragment,t),p&&p.end(1),it(D),G(()=>{S&&S.end(1),T||(T=st(e,Tt,{duration:500})),T.start()}),N=!0)},o(t){ct(M.$$.fragment,t),p=at(o,Tt,{}),ct(D),T&&T.invalidate(),S=at(e,Tt,{}),N=!1},d(t){t&&$(e),L.d(),P&&P.d(),gt(M),t&&p&&p.end(),A[y].d(),t&&S&&S.end(),i(E)}}}function ve(t,e,n){let o;s(t,kt,t=>n(5,o=t));const{open:r}=q("simple-modal");let i=[],{collection:c}=e,{onCollectionDrop:l}=e,{index:a}=e,{clickDeleteCollection:u}=e,d=!1;M(()=>{chrome.bookmarks.getChildren(c.id,(function(t){n(3,i=t.filter(t=>null!=t.url))}))});const f=Qt.subscribe(t=>{if("i"!=t.source[0]||"i"!=t.target[0]||t.sourceObj.parentId!=c.id&&t.targetObj.id!=c.id)"t"==t.source[0]&&"i"==t.target[0]&&t.targetObj.id==c.id&&p(t.sourceObj,parseInt(t.target.substr(1)),t.ctrl);else{var e=parseInt(t.source.substr(1)),o=parseInt(t.target.substr(1));if(t.sourceObj.parentId==c.id&&t.targetObj.id==c.id)e>=o?(chrome.bookmarks.move(t.sourceObj.id,{index:o}),i.splice(o,0,t.sourceObj),i.splice(e+1,1)):(chrome.bookmarks.move(t.sourceObj.id,{index:o}),i.splice(o,0,t.sourceObj),i.splice(e,1));else if(t.sourceObj.parentId==c.id)chrome.bookmarks.move(t.sourceObj.id,{index:o,parentId:t.targetObj.id}),i.splice(e,1);else{var r=JSON.parse(JSON.stringify(t.sourceObj));r.parentId=c.id,i.splice(o,0,r)}n(3,i)}});W(f);function p(t,e){chrome.bookmarks.create({parentId:c.id,url:t.url,index:e,title:t.title+":::::"+t.favIconUrl},(function(t){i.splice(e,0,t),n(3,i)}))}return t.$set=t=>{"collection"in t&&n(0,c=t.collection),"onCollectionDrop"in t&&n(16,l=t.onCollectionDrop),"index"in t&&n(2,a=t.index),"clickDeleteCollection"in t&&n(1,u=t.clickDeleteCollection)},[c,u,a,i,d,o,t=>{n(4,d=!0)},t=>{n(4,d=!1)},t=>{t.dataTransfer.setData("text","c"+a.toString())},t=>{t.preventDefault(),n(4,d=!1),l(t,a)},(t,e)=>{i.splice(e,1),n(3,i),chrome.bookmarks.remove(t.id)},(t,e)=>{chrome.tabs.create({url:t.url,active:!(e.ctrlKey||e.metaKey)})},()=>{i.forEach(t=>{chrome.tabs.create({url:t.url})})},(t,e)=>{t.preventDefault();var n=t.dataTransfer.getData("text"),o=JSON.parse(t.dataTransfer.getData("object"));console.log("drop"),console.log(t),Qt.set({source:n,target:"i"+e.toString(),sourceObj:o,targetObj:c,ctrl:t.ctrlKey||t.altKey})},["ðŸ–‰ Edit Name"],async(t,e)=>{switch(e){case 0:var o=await r(le,{collection:c});n(0,c.title=o,c)}},l,r,f,p,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)},()=>u(a)]}class $e extends $t{constructor(t){super(),vt(this,t,ve,he,l,{collection:0,onCollectionDrop:16,index:2,clickDeleteCollection:1})}}function be(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--bg)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function xe(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--drop-indicator)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function ke(e){let n,o,r,c;function l(t,e){return t[0]?xe:be}let s=l(e),a=s(e);return{c(){n=b("div"),a.c(),o=k(),r=b("div"),I(r,"height","200px")},m(t,i){v(t,n,i),a.m(n,null),h(n,o),h(n,r),c=[w(r,"dragover",C(e[1])),w(r,"dragleave",e[2]),w(r,"drop",e[3])]},p(t,[e]){s!==(s=l(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(n,o)))},i:t,o:t,d(t){t&&$(n),a.d(),i(c)}}}function ye(t,e,n){let{index:o}=e,{onCollectionDrop:r}=e,i=!1;return t.$set=t=>{"index"in t&&n(4,o=t.index),"onCollectionDrop"in t&&n(5,r=t.onCollectionDrop)},[i,t=>{n(0,i=!0)},t=>{n(0,i=!1)},t=>{t.preventDefault(),n(0,i=!1),r(t,o)},o,r]}class we extends $t{constructor(t){super(),vt(this,t,ye,ke,l,{index:4,onCollectionDrop:5})}}function Ce(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function De(t){let e;return{c(){e=b("div"),e.innerHTML='<h3>No Collections, Click &#39;</h3> \n            <button class="plus-icon-dummy svelte-ntsq4u"></button> \n            <h3>&#39; To create one</h3>',O(e,"class","no-collections-indicator svelte-ntsq4u")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Oe(t,e){let n,o;const r=new $e({props:{collection:e[8],index:e[10],onCollectionDrop:e[2],clickDeleteCollection:e[3]}});return{key:t,first:null,c(){n=y(),pt(r.$$.fragment),this.first=n},m(t,e){v(t,n,e),mt(r,t,e),o=!0},p(t,e){const n={};1&e&&(n.collection=t[8]),1&e&&(n.index=t[10]),r.$set(n)},i(t){o||(it(r.$$.fragment,t),o=!0)},o(t){ct(r.$$.fragment,t),o=!1},d(t){t&&$(n),gt(r,t)}}}function je(t){let e,n,o,r,i,c,l,s,a=[],u=new Map,d=0==t[0].length&&De(),f=t[0];const p=t=>t[8].id;for(let e=0;e<f.length;e+=1){let n=Ce(t,f,e),o=p(n);u.set(o,a[e]=Oe(o,n))}const m=new we({props:{index:t[0].length,onCollectionDrop:t[2]}});return{c(){e=b("main"),d&&d.c(),n=k(),o=b("button"),r=k(),i=b("div");for(let t=0;t<a.length;t+=1)a[t].c();c=k(),pt(m.$$.fragment),O(o,"class","plus-icon pointer svelte-ntsq4u"),O(i,"class","scroll"),I(e,"position","relative")},m(u,f){v(u,e,f),d&&d.m(e,null),h(e,n),h(e,o),h(e,r),h(e,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null);h(i,c),mt(m,i,null),l=!0,s=w(o,"click",D(C(t[1])))},p(t,[o]){0==t[0].length?d||(d=De(),d.c(),d.m(e,n)):d&&(d.d(1),d=null);const r=t[0];ot(),a=ft(a,o,p,1,t,r,u,i,dt,Oe,c,Ce),rt();const l={};1&o&&(l.index=t[0].length),m.$set(l)},i(t){if(!l){for(let t=0;t<f.length;t+=1)it(a[t]);it(m.$$.fragment,t),l=!0}},o(t){for(let t=0;t<a.length;t+=1)ct(a[t]);ct(m.$$.fragment,t),l=!1},d(t){t&&$(e),d&&d.d();for(let t=0;t<a.length;t+=1)a[t].d();gt(m),s()}}}function Te(t,e,n){const{open:o}=q("simple-modal");let r=[];function i(t){chrome.storage.local.set({pid:t},(function(){console.log("saved pid")})),c(t)}function c(t){chrome.bookmarks.getChildren(t,(function(t){n(0,r=t.filter(t=>null==t.url))}))}M(()=>{chrome.storage.local.get("pid",(function(t){try{c(t.pid)}catch(t){chrome.bookmarks.getTree((function(t){var e=t[0].children[1].id;chrome.bookmarks.getChildren(e,(function(t){var n=t.find(t=>t.title==putAwayFolderName);n?(console.log("PutAway already found"),i(n.id)):chrome.bookmarks.create({parentId:e,title:putAwayFolderName},(function(t){console.log("created folder: "+t.title),i(t.id)}))}))}))}}))});W(Qt.subscribe(t=>{if("c"==t.source[0]&&"c"==t.target[0]){var e=parseInt(t.source.substr(1)),o=parseInt(t.target.substr(1));e>=o?(chrome.bookmarks.move(r[e].id,{index:o}),r.splice(o,0,r[e]),r.splice(e+1,1)):(chrome.bookmarks.move(r[e].id,{index:o}),r.splice(o,0,r[e]),r.splice(e,1)),n(0,r)}}));return[r,async()=>{var t=await o(Et);t&&(r.splice(t.index,0,t),n(0,r))},(t,e)=>{t.preventDefault();var n=t.dataTransfer.getData("text");Qt.set({source:n,target:"c"+e.toString(),sourceObj:null,targetObj:null})},async t=>{await o(Bt,{collectionName:r[t].title})&&(chrome.bookmarks.removeTree(r[t].id),r.splice(t,1),n(0,r))}]}class Ie extends $t{constructor(t){super(),vt(this,t,Te,je,l,{})}}function Se(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--bg)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Ne(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--drop-indicator)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Ee(t){let e,n,o,r,c,l,s,a,u,d,f,p,m,g,y,T=t[0].title+"";function S(t,e){return t[4]?Ne:Se}let N=S(t),E=N(t);return{c(){e=b("div"),E.c(),n=k(),o=b("div"),r=b("button"),c=k(),l=b("div"),s=b("img"),u=k(),d=b("div"),f=x(T),O(r,"class","close-icon svelte-195pr76"),O(s,"alt"," "),s.src!==(a=t[0].favIconUrl)&&O(s,"src",a),O(s,"height","20px"),I(s,"margin-right","10px"),O(d,"class","text-concat svelte-195pr76"),O(l,"class","flex-row-container"),O(o,"class","card svelte-195pr76"),O(o,"draggable","true")},m(i,a){v(i,e,a),E.m(e,null),h(e,n),h(e,o),h(o,r),h(o,c),h(o,l),h(l,s),h(l,u),h(l,d),h(d,f),g=!0,y=[w(r,"click",D(C(t[10]))),w(o,"dragover",C(t[5])),w(o,"dragleave",t[6]),w(o,"dragstart",t[7]),w(o,"drop",t[8]),w(o,"click",C(t[11]))]},p(t,[o]){N!==(N=S(t))&&(E.d(1),E=N(t),E&&(E.c(),E.m(e,n))),(!g||1&o&&s.src!==(a=t[0].favIconUrl))&&O(s,"src",a),(!g||1&o)&&T!==(T=t[0].title+"")&&j(f,T)},i(t){g||(G(()=>{m&&m.end(1),p||(p=st(e,It,{x:500,duration:400})),p.start()}),g=!0)},o(t){p&&p.invalidate(),m=at(e,Tt,{}),g=!1},d(t){t&&$(e),E.d(),t&&m&&m.end(),i(y)}}}function _e(t,e,n){let{tab:o}=e,{index:r}=e,{onClickTabCard:i}=e,{onTabTileClose:c}=e,{onDrop:l}=e,s=!1;return t.$set=t=>{"tab"in t&&n(0,o=t.tab),"index"in t&&n(1,r=t.index),"onClickTabCard"in t&&n(2,i=t.onClickTabCard),"onTabTileClose"in t&&n(3,c=t.onTabTileClose),"onDrop"in t&&n(9,l=t.onDrop)},[o,r,i,c,s,t=>{n(4,s=!0)},t=>{n(4,s=!1)},t=>{t.dataTransfer.setData("text","t"+r.toString()),t.dataTransfer.setData("object",JSON.stringify(o))},t=>{t.preventDefault(),n(4,s=!1),l(t,r)},l,()=>c(o,r),()=>i(o)]}class ze extends $t{constructor(t){super(),vt(this,t,_e,Ee,l,{tab:0,index:1,onClickTabCard:2,onTabTileClose:3,onDrop:9})}}function Be(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--bg)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Le(t){let e;return{c(){e=b("hr"),I(e,"border","1px solid var(--drop-indicator)")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function Pe(e){let n,o,r,c;function l(t,e){return t[0]?Le:Be}let s=l(e),a=s(e);return{c(){n=b("div"),a.c(),o=k(),r=b("div"),I(r,"height","200px")},m(t,i){v(t,n,i),a.m(n,null),h(n,o),h(n,r),c=[w(r,"dragover",C(e[1])),w(r,"dragleave",e[2]),w(r,"drop",e[3])]},p(t,[e]){s!==(s=l(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(n,o)))},i:t,o:t,d(t){t&&$(n),a.d(),i(c)}}}function Me(t,e,n){let{index:o}=e,{onDrop:r}=e,i=!1;return t.$set=t=>{"index"in t&&n(4,o=t.index),"onDrop"in t&&n(5,r=t.onDrop)},[i,t=>{n(0,i=!0)},t=>{n(0,i=!1)},t=>{t.preventDefault(),n(0,i=!1),r(t,o)},o,r]}class We extends $t{constructor(t){super(),vt(this,t,Me,Pe,l,{index:4,onDrop:5})}}function Ae(e){let n,o,r,c,l,s,a,u,d,f,p,m;return{c(){n=b("main"),o=b("h1"),o.textContent="Collection Name -",r=k(),c=b("input"),s=k(),a=b("div"),u=b("div"),d=x(e[1]),f=k(),p=b("button"),p.textContent="Save Session to Collection",O(c,"type","text"),O(c,"onchange",l=e[4](e[0])),c.autofocus=!0,O(c,"class","svelte-1dkdkti"),I(u,"padding","10px"),I(u,"color","red"),O(p,"class","pointer svelte-1dkdkti"),O(a,"class","modal-bottom-bar svelte-1dkdkti")},m(t,i){v(t,n,i),h(n,o),h(n,r),h(n,c),T(c,e[0]),h(n,s),h(n,a),h(a,u),h(u,d),h(a,f),h(a,p),c.focus(),m=[w(window,"keyup",e[3]),w(c,"input",e[8]),w(p,"click",e[2])]},p(t,[e]){1&e&&l!==(l=t[4](t[0]))&&O(c,"onchange",l),1&e&&c.value!==t[0]&&T(c,t[0]),2&e&&j(d,t[1])},i:t,o:t,d(t){t&&$(n),i(m)}}}function qe(t,e,n){var o=new Date;let r=`Session ${o.getDate()}-${(o.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}-${o.getFullYear()}, ${o.getHours()}:${o.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}:${o.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}`,i="";const{close:c}=q("simple-modal");function l(){chrome.storage.local.get("pid",(function(t){chrome.bookmarks.create({parentId:t.pid,title:r,index:0},(function(t){c(t)}))}))}var s=()=>{n(0,r=r.trim()),r.length>0?(n(1,i=""),l()):n(1,i="Enter a collection Name")};return[r,i,s,function(t){13==t.keyCode&&s()},function(t){n(0,r=t.replace(/\s+/g," "))},o,c,l,function(){r=this.value,n(0,r)}]}class Ue extends $t{constructor(t){super(),vt(this,t,qe,Ae,l,{})}}function Je(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function Fe(e){let n,o;return{c(){n=b("div"),n.textContent="Save Session",O(n,"class","rounded-button pointer"),I(n,"font-size","1em")},m(t,r){v(t,n,r),o=w(n,"click",e[4])},p:t,d(t){t&&$(n),o()}}}function He(t,e){let n,o;const r=new ze({props:{tab:e[7],index:e[9],onClickTabCard:e[1],onTabTileClose:e[2],onDrop:e[3]}});return{key:t,first:null,c(){n=y(),pt(r.$$.fragment),this.first=n},m(t,e){v(t,n,e),mt(r,t,e),o=!0},p(t,e){const n={};1&e&&(n.tab=t[7]),1&e&&(n.index=t[9]),r.$set(n)},i(t){o||(it(r.$$.fragment,t),o=!0)},o(t){ct(r.$$.fragment,t),o=!1},d(t){t&&$(n),gt(r,t)}}}function Ke(t){let e,n,o,r,i,c,l,s,a,u,d,f,p=t[0].length+"",m=[],g=new Map,y=t[0].length>0&&Fe(t),w=t[0];const C=t=>t[7].id;for(let e=0;e<w.length;e+=1){let n=Je(t,w,e),o=C(n);g.set(o,m[e]=He(o,n))}const D=new We({props:{index:t[0].length,onDrop:t[3]}});return{c(){e=b("div"),n=b("div"),o=b("div"),r=x("Open Tabs - "),i=x(p),c=k(),l=b("div"),s=k(),y&&y.c(),a=k(),u=b("div");for(let t=0;t<m.length;t+=1)m[t].c();d=k(),pt(D.$$.fragment),I(o,"font-size","1.8em"),I(l,"flex-grow","1"),O(n,"class","flex-row-container"),O(u,"class","scroll")},m(t,p){v(t,e,p),h(e,n),h(n,o),h(o,r),h(o,i),h(n,c),h(n,l),h(n,s),y&&y.m(n,null),h(e,a),h(e,u);for(let t=0;t<m.length;t+=1)m[t].m(u,null);h(u,d),mt(D,u,null),f=!0},p(t,[e]){(!f||1&e)&&p!==(p=t[0].length+"")&&j(i,p),t[0].length>0?y?y.p(t,e):(y=Fe(t),y.c(),y.m(n,null)):y&&(y.d(1),y=null);const o=t[0];ot(),m=ft(m,e,C,1,t,o,g,u,dt,He,d,Je),rt();const r={};1&e&&(r.index=t[0].length),D.$set(r)},i(t){if(!f){for(let t=0;t<w.length;t+=1)it(m[t]);it(D.$$.fragment,t),f=!0}},o(t){for(let t=0;t<m.length;t+=1)ct(m[t]);ct(D.$$.fragment,t),f=!1},d(t){t&&$(e),y&&y.d();for(let t=0;t<m.length;t+=1)m[t].d();gt(D)}}}function Re(t,e,n){const{open:o}=q("simple-modal");let r=[];M(()=>{chrome.tabs.query({currentWindow:!0},t=>{n(0,r=t.filter((function(t){return"chrome://newtab/"!=t.url})))})}),W(Qt.subscribe(t=>{if("t"==t.source[0])if("i"==t.target[0])null==t.ctrl||t.ctrl||(chrome.tabs.remove(t.sourceObj.id),r.splice(parseInt(t.source.substr(1)),1),n(0,r));else if("t"==t.target[0]){var e=parseInt(t.source.substr(1)),o=parseInt(t.target.substr(1));e>=o?(chrome.tabs.move(t.sourceObj.id,{index:o}),r.splice(o,0,t.sourceObj),r.splice(e+1,1)):(chrome.tabs.move(t.sourceObj.id,{index:o-1}),r.splice(o,0,t.sourceObj),r.splice(e,1)),n(0,r)}}));return[r,t=>{chrome.tabs.update(t.id,{active:!0})},(t,e)=>{r.splice(e,1),n(0,r),chrome.tabs.remove(t.id)},(t,e)=>{t.preventDefault();var n=t.dataTransfer.getData("text"),o=JSON.parse(t.dataTransfer.getData("object"));Qt.set({source:n,target:"t"+e.toString(),sourceObj:o,targetObj:r[e]})},async()=>{var t=await o(Ue);if(t){var e=r.length;r.forEach(n=>{chrome.bookmarks.create({parentId:t.id,url:n.url,title:n.title+":::::"+n.favIconUrl},(function(t){0==--e&&chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.reload(t[0].id)}))}))})}}]}class Ge extends $t{constructor(t){super(),vt(this,t,Re,Ke,l,{})}}function Ze(t){let e,o,r,i,c,l,s,a,u,d=t[0]&&Ye(t);const f=[t[6]];let p={};for(let t=0;t<f.length;t+=1)p=n(p,f[t]);const m=new t[5]({props:p});return{c(){e=b("div"),o=b("div"),r=b("div"),d&&d.c(),i=k(),c=b("div"),pt(m.$$.fragment),O(c,"class","content svelte-1ge3zj3"),O(c,"style",t[11]),O(r,"class","window svelte-1ge3zj3"),O(r,"style",t[10]),O(o,"class","window-wrap svelte-1ge3zj3"),O(e,"class","bg svelte-1ge3zj3"),O(e,"style",t[9])},m(n,l){v(n,e,l),h(e,o),h(o,r),d&&d.m(r,null),h(r,i),h(r,c),mt(m,c,null),t[31](o),t[32](e),a=!0,u=w(e,"click",t[14])},p(t,n){t[0]?d?d.p(t,n):(d=Ye(t),d.c(),d.m(r,i)):d&&(d.d(1),d=null);const o=64&n[0]?function(t,e){const n={},o={},r={$$scope:1};let i=t.length;for(;i--;){const c=t[i],l=e[i];if(l){for(const t in c)t in l||(o[t]=1);for(const t in l)r[t]||(n[t]=l[t],r[t]=1);t[i]=l}else for(const t in c)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(f,[(l=t[6],"object"==typeof l&&null!==l?l:{})]):{};var l;m.$set(o),(!a||2048&n[0])&&O(c,"style",t[11]),(!a||1024&n[0])&&O(r,"style",t[10]),(!a||512&n[0])&&O(e,"style",t[9])},i(n){a||(it(m.$$.fragment,n),G(()=>{l||(l=ut(r,t[3],t[4],!0)),l.run(1)}),G(()=>{s||(s=ut(e,t[1],t[2],!0)),s.run(1)}),a=!0)},o(n){ct(m.$$.fragment,n),l||(l=ut(r,t[3],t[4],!1)),l.run(0),s||(s=ut(e,t[1],t[2],!1)),s.run(0),a=!1},d(n){n&&$(e),d&&d.d(),gt(m),n&&l&&l.end(),t[31](null),t[32](null),n&&s&&s.end(),u()}}}function Ye(e){let n,o;return{c(){n=b("button"),O(n,"class","close svelte-1ge3zj3")},m(t,r){v(t,n,r),o=w(n,"click",e[12])},p:t,d(t){t&&$(n),o()}}}function Qe(t){let e,n,o,r,i=t[5]&&Ze(t);const c=t[30].default,l=function(t,e,n,o){if(t){const r=a(t,e,n,o);return t[0](r)}}(c,t,t[29],null);return{c(){e=b("div"),i&&i.c(),n=k(),l&&l.c(),O(e,"class","svelte-1ge3zj3")},m(c,s){v(c,e,s),i&&i.m(e,null),h(e,n),l&&l.m(e,null),o=!0,r=w(window,"keyup",t[13])},p(t,o){t[5]?i?(i.p(t,o),it(i,1)):(i=Ze(t),i.c(),it(i,1),i.m(e,n)):i&&(ot(),ct(i,1,1,()=>{i=null}),rt()),l&&l.p&&536870912&o[0]&&l.p(a(c,t,t[29],null),function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(c,t[29],o,null))},i(t){o||(it(i),it(l,t),o=!0)},o(t){ct(i),ct(l,t),o=!1},d(t){t&&$(e),i&&i.d(),l&&l.d(t),r()}}}function Ve(t,e,n){let o,r,{key:i="simple-modal"}=e,{closeButton:c=!0}=e,{closeOnEsc:l=!0}=e,{closeOnOuterClick:s=!0}=e,{transitionBg:a=Tt}=e,{transitionBgProps:u={duration:250}}=e,{transitionWindow:d=a}=e,{transitionWindowProps:f=u}=e,{styleBg:p={top:0,left:0}}=e,{styleWindow:m={}}=e,{styleContent:g={}}=e,{setContext:h=A}=e,v=null,$=null,b={},x={},k={};const y=t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),w=t=>Object.keys(t).reduce((e,n)=>`${e}; ${y(n)}: ${t[n]}`,"");var C;const D=(t,e={},o={bg:{},window:{},content:{}})=>new Promise(r=>{C=r,n(5,v=t),n(6,$=e),n(22,b=o.bg||{}),n(23,x=o.window||{}),n(24,k=o.content||{})}),O=t=>{n(5,v=null),n(6,$=null),n(22,b={}),n(23,x={}),n(24,k={}),C(t)};h(i,{open:D,close:O});let j,T,I,{$$slots:S={},$$scope:N}=e;return t.$set=t=>{"key"in t&&n(15,i=t.key),"closeButton"in t&&n(0,c=t.closeButton),"closeOnEsc"in t&&n(16,l=t.closeOnEsc),"closeOnOuterClick"in t&&n(17,s=t.closeOnOuterClick),"transitionBg"in t&&n(1,a=t.transitionBg),"transitionBgProps"in t&&n(2,u=t.transitionBgProps),"transitionWindow"in t&&n(3,d=t.transitionWindow),"transitionWindowProps"in t&&n(4,f=t.transitionWindowProps),"styleBg"in t&&n(18,p=t.styleBg),"styleWindow"in t&&n(19,m=t.styleWindow),"styleContent"in t&&n(20,g=t.styleContent),"setContext"in t&&n(21,h=t.setContext),"$$scope"in t&&n(29,N=t.$$scope)},t.$$.update=()=>{4456448&t.$$.dirty[0]&&n(9,j=w(Object.assign({},p,b))),8912896&t.$$.dirty[0]&&n(10,T=w(Object.assign({},m,x))),17825792&t.$$.dirty[0]&&n(11,I=w(Object.assign({},g,k)))},[c,a,u,d,f,v,$,o,r,j,T,I,O,({key:t})=>{l&&v&&"Escape"===t&&(event.preventDefault(),O())},t=>{!s||t.target!==o&&t.target!==r||(t.preventDefault(),O())},i,l,s,p,m,g,h,b,x,k,C,y,w,D,N,S,function(t){J[t?"unshift":"push"](()=>{n(8,r=t)})},function(t){J[t?"unshift":"push"](()=>{n(7,o=t)})}]}class Xe extends $t{constructor(t){super(),vt(this,t,Ve,Qe,l,{key:15,closeButton:0,closeOnEsc:16,closeOnOuterClick:17,transitionBg:1,transitionBgProps:2,transitionWindow:3,transitionWindowProps:4,styleBg:18,styleWindow:19,styleContent:20,setContext:21},[-1,-1])}}function tn(t){let e;return{c(){e=b("link"),O(e,"rel","stylesheet"),O(e,"href","global-light.css")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function en(t){let e;return{c(){e=b("link"),O(e,"rel","stylesheet"),O(e,"href","global-dark.css")},m(t,n){v(t,e,n)},d(t){t&&$(e)}}}function nn(t){let e,n,o,r,i,c,l,s,a;const u=new Ot({props:{darkTheme:t[0],toggleTheme:t[1]}}),d=new Ie({}),f=new Ge({});return{c(){e=b("div"),n=b("div"),o=b("div"),r=b("div"),pt(u.$$.fragment),i=k(),c=b("div"),pt(d.$$.fragment),l=k(),s=b("div"),pt(f.$$.fragment),O(r,"id","top-bar-container"),O(r,"class","svelte-1v069xm"),O(o,"id","top-bar"),O(o,"class","svelte-1v069xm"),O(c,"id","main-free-area"),O(c,"class","svelte-1v069xm"),O(n,"id","left-free-area"),O(n,"class","svelte-1v069xm"),O(s,"id","right-fixed-bar"),O(s,"class","svelte-1v069xm"),O(e,"class","container-table svelte-1v069xm")},m(t,p){v(t,e,p),h(e,n),h(n,o),h(o,r),mt(u,r,null),h(n,i),h(n,c),mt(d,c,null),h(e,l),h(e,s),mt(f,s,null),a=!0},p(t,e){const n={};1&e&&(n.darkTheme=t[0]),u.$set(n)},i(t){a||(it(u.$$.fragment,t),it(d.$$.fragment,t),it(f.$$.fragment,t),a=!0)},o(t){ct(u.$$.fragment,t),ct(d.$$.fragment,t),ct(f.$$.fragment,t),a=!1},d(t){t&&$(e),gt(u),gt(d),gt(f)}}}function on(t){let e,n,o;function r(t,e){return t[0]?en:tn}let i=r(t),c=i(t);const l=new Xe({props:{closeButton:!1,$$slots:{default:[nn]},$$scope:{ctx:t}}});return{c(){c.c(),e=y(),n=k(),pt(l.$$.fragment)},m(t,r){c.m(document.head,null),h(document.head,e),v(t,n,r),mt(l,t,r),o=!0},p(t,[n]){i!==(i=r(t))&&(c.d(1),c=i(t),c&&(c.c(),c.m(e.parentNode,e)));const o={};5&n&&(o.$$scope={dirty:n,ctx:t}),l.$set(o)},i(t){o||(it(l.$$.fragment,t),o=!0)},o(t){ct(l.$$.fragment,t),o=!1},d(t){c.d(t),$(e),t&&$(n),gt(l,t)}}}function rn(t,e,n){let o=!1;return M(()=>{var t;t=function(t){n(0,o=t)},chrome.storage.sync.get("dark",(function(e){e.dark?t(e.dark):t(!1)}))}),[o,()=>{var t;n(0,o=!o),t=o,chrome.storage.sync.set({dark:t})}]}return new class extends $t{constructor(t){super(),vt(this,t,rn,on,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=newtab.bundle.js.map
