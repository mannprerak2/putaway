import{D as X,f as J,g as x,y as g,r as ve,h as ce,j as I,k as P,o as D,q as a,m as p,n as w,z as ue,G as R,T as Q,C as de,v as h,x as Z,X as fe,a0 as y,a1 as W,K as me,a2 as ge,R as he,F as pe,H as ke,L as _e,U as Y,a6 as be}from"./hooks.js";import{s as Se,S as F,f as ye}from"./faSearch.js";var we=I('<div class="save svelte-oazel4">✓</div>'),Ie=I('<div class="popup-collection-tile pointer svelte-oazel4"><!> </div> <hr style="border: 1px solid rgb(240, 240, 240); margin: 0; margin-left: 5px; margin-right: 5px;"/>',1);function Le(e,l){J(l,!1);let n=x(l,"collection",8),u=x(l,"tab",8),d=x(l,"alreadySaved",8),t=ve(!1);d()&&g(t,d());let v;var f=()=>{g(t,!a(t)),a(t)?L(u()):v?chrome.bookmarks.remove(v.id):chrome.bookmarks.search({url:u().url},function(c){c.forEach(_=>{chrome.bookmarks.remove(_.id)})})};function L(c){fe(c),chrome.bookmarks.create({parentId:n().id,url:c.url,title:c.title+":::::"+c.favIconUrl},function(_){v=_})}ce();var k=Ie(),q=P(k);q.__click=f;var C=p(q);{var H=c=>{var _=we();h(c,_)};D(C,c=>{a(t)&&c(H)})}var N=w(C);ue(()=>{Se(q,"title",(Q(n()),R(()=>n().title))),de(N,` ${Q(n()),R(()=>n().title)??""}`)}),h(e,k),Z()}X(["click"]);var G={},B;function ze(){return B||(B=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});var l="far",n="save",u=448,d=512,t=[],v="f0c7",f="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z";e.definition={prefix:l,iconName:n,icon:[u,d,t,v,f]},e.faSave=e.definition,e.prefix=l,e.iconName=n,e.width=u,e.height=d,e.ligatures=t,e.unicode=v,e.svgPathData=f})(G)),G}var qe=ze(),j={},K;function Te(){return K||(K=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});var l="far",n="image",u=512,d=512,t=[],v="f03e",f="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z";e.definition={prefix:l,iconName:n,icon:[u,d,t,v,f]},e.faImage=e.definition,e.prefix=l,e.iconName=n,e.width=u,e.height=d,e.ligatures=t,e.unicode=v,e.svgPathData=f})(j)),j}var Me=Te(),Pe=I("<!> Save Session",1),De=I("<!> Save Quick Link",1),Ce=I('<div id="main" class="svelte-1k7eb1"><div id="top" class="svelte-1k7eb1"><input type="text" placeholder="Search" class="svelte-1k7eb1"/> <div id="search-logo" class="svelte-1k7eb1"><!></div> <div id="open-putaway" class="pointer svelte-1k7eb1">Open <br/> PutAway</div></div> <div id="list" class="svelte-1k7eb1"><!> <div style="height: 60px;"></div></div></div> <div id="save-session" class="pointer big-popup-button svelte-1k7eb1"><!></div> <div id="save-quicklink" class="pointer big-popup-button svelte-1k7eb1"><!></div>',1),He=I('<div id="newtab-popup" class="svelte-1k7eb1"><img alt="logo" src="images/logo128.png"/> <div id="newtab-open-putaway" class="pointer svelte-1k7eb1">Open PutAway</div> <div>This is an Empty Tab. <br/> You cannot add this to a collection.</div></div>'),Ne=I('<div id="popup" class="svelte-1k7eb1"><!></div>');function Ue(e,l){J(l,!0);let n=y(""),u=y(W([])),d=W({}),t=y(void 0),v=y(void 0),f=y(!1),L=y(!1),k=y(!1);me(()=>{chrome.tabs.query({active:!0,currentWindow:!0},function(r){g(t,r[0],!0),a(t).url!="chrome://newtab/"?(chrome.bookmarks.search({url:a(t).url},function(o){o.forEach(m=>{d[m.parentId]=!0})}),chrome.storage.local.get("pid",function(o){chrome.bookmarks.getChildren(o.pid,function(m){g(u,m.filter(b=>b.url==null),!0)})})):g(f,!0)}),ge()});const q=()=>{if(a(L))chrome.bookmarks.removeTree(a(v)),g(L,!1);else{var r=new Date;let o=`Session ${r.getDate()}-${(r.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}-${r.getFullYear()}, ${r.getHours()}:${r.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}:${r.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}`;chrome.storage.local.get("pid",function(m){chrome.bookmarks.create({parentId:m.pid,title:o,index:0},function(b){chrome.tabs.query({currentWindow:!0},T=>{let M=T.filter(function(S){return S.url!="chrome://newtab/"});var U=M.length;M.forEach(S=>{chrome.bookmarks.create({parentId:b.id,url:S.url,title:S.title+":::::"+S.favIconUrl},function(A){U--,U==0&&(g(v,b.id,!0),g(L,!0))})})})})})}},C=()=>{chrome.storage.sync.get("quickLinks",async r=>{let o=[];r.quickLinks&&(o=r.quickLinks),a(k)?o.pop():o.push({icon:a(t).favIconUrl,url:a(t).url}),chrome.storage.sync.set({quickLinks:o}),g(k,!a(k))})},H=()=>{chrome.tabs.create({url:chrome.runtime.getURL("newtab.html")})};var N=Ne(),c=p(N);{var _=r=>{var o=Ce(),m=P(o),b=p(m),T=p(b);he(T);var M=w(T,2),U=p(M);F(U,{get icon(){return ye.faSearch},size:"2x"});var S=w(M,2);S.__click=H;var A=w(b,2),ee=p(A);pe(ee,19,()=>a(u),i=>i.id,(i,s)=>{var z=_e(),se=P(z);{var le=V=>{Le(V,{get collection(){return a(s)},get tab(){return a(t)},get alreadySaved(){return d[a(s).id]}})};D(se,V=>{a(s).title.toLowerCase().includes(a(n).toLowerCase())&&V(le)})}h(i,z)});var E=w(m,2);E.__click=q;var ae=p(E);{var ie=i=>{var s=Y("✓Saved (click to undo)");h(i,s)},te=i=>{var s=Pe(),z=P(s);F(z,{get icon(){return qe.faSave},size:"sm",style:"position:relative; top:3px; opacity: 0.7;"}),h(i,s)};D(ae,i=>{a(L)?i(ie):i(te,!1)})}var O=w(E,2);O.__click=C;var re=p(O);{var oe=i=>{var s=Y("✓Saved (click to undo)");h(i,s)},ne=i=>{var s=De(),z=P(s);F(z,{get icon(){return Me.faImage},size:"sm",style:"position:relative; top:3px; opacity: 0.7;"}),h(i,s)};D(re,i=>{a(k)?i(oe):i(ne,!1)})}ke(T,()=>a(n),i=>g(n,i)),h(r,o)},$=r=>{var o=He(),m=w(p(o),2);m.__click=H,h(r,o)};D(c,r=>{a(f)?r($,!1):r(_)})}h(e,N),Z()}X(["click"]);be(Ue,{target:document.body});
//# sourceMappingURL=popup.bundle.js.map
